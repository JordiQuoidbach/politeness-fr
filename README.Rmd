---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "README-"
)
```

# Politeness (French Adaptation)

This is a **French-language adaptation** of the [politeness](https://github.com/myeomans/politeness) R package. It extends the original package with French-specific politeness feature extraction capabilities.

Politeness is a universal dimension of language (Lakoff, 1973; Brown & Levinson, 1987). In practically all communication, a speaker can choose to be more or less polite to their audience. This package provides tools for researchers to measure the markers and effects of politeness in **French natural language**.

## What's New in the French Adaptation

This adaptation includes:

- **`politeness_fr()`** - Main function for detecting politeness features in French texts
- **French-specific features**:
  - `T_Form` / `V_Form` - Tutoiement vs Vouvoiement (informal vs formal address)
  - `Imparfait.Politesse` - Imperfect tense used for politeness
  - `Conditional.Politeness` - Conditional tense for polite requests
- **French dictionaries** for hedges, emotions, and politeness markers
- **French text processing** with proper contraction handling and normalization
- **Comprehensive test suite** (57 French-specific tests)

For detailed information, see [FRENCH_ADAPTATION.md](FRENCH_ADAPTATION.md).

## Installation

This French adaptation is available on GitHub. You can install it using `devtools` or `remotes`:

```{r gh-installation, eval = FALSE}
# Install devtools if you haven't already
# install.packages("devtools")

# Install the French adaptation from GitHub
devtools::install_github("JordiQuoidbach/politeness-fr")

# Or using remotes
# remotes::install_github("JordiQuoidbach/politeness-fr")
```

**Note:** This package extends the original [politeness](https://github.com/myeomans/politeness) package. The original English version is available on CRAN:

```{r cran-installation, eval = FALSE}
install.packages("politeness")
```

Many of the politeness features contained in this package use dependency parsing. The package relies on the popular python library [SpaCy](https://spacy.io/), which is simple to install, although the procedure can vary for different machines. The software depends on a convenient wrapper function, [spacyr](https://spacyr.quanteda.io/), that also includes several installation tools. 

**For French text analysis**, you need to install the French language model:

```{r spacy-french, eval = FALSE}
# Install SpaCy in Python
# pip install spacy
# python -m spacy download fr_core_news_sm

# In R, initialize SpaCy with French model
library(spacyr)
spacyr::spacy_initialize(model = "fr_core_news_sm")
```

If you do not have SpaCy installed, a reduced set of features is provided (i.e. those that do not require dependency tags) but this is only recommended for initial tests, rather than final analyses.

Please confirm that your machine can run SpaCy and spacyr first! This step can be difficult for some machines, and users should refer to the existing documentation for that software as a guide.

For users who want to try out the original package without having to configure SpaCy on their own machine, a tutorial is available on [Colab](https://colab.research.google.com/github/myeomans/politenessTutorial/blob/main/colabr.ipynb) that will install everything needed automatically (though it does take ~ 20 minutes for everything to run). However, for people unfamiliar with python, it can be much easier to use colab to start, than to configure their own computer. 


## Citation

If you use this package, please cite the original publication:

**Yeomans, M., Kantor, A. & Tingley, D. (2018).** Detecting Politeness in Natural Language. The R Journal, 10(2), 489-502.

**For the French adaptation**, please also acknowledge this work:

This French adaptation extends the original politeness package with French-specific linguistic features and dictionaries. The adaptation includes French politeness markers such as tutoiement/vouvoiement, imparfait de politesse, and conditionnel de politesse.

Note that the original publication was written using a very early version (0.2.4) of the package. For the most up-to-date description of the functionality, please see the vignette in this repository and the [FRENCH_ADAPTATION.md](FRENCH_ADAPTATION.md) documentation. 


## Example: French Text Analysis

Here's a simple example using the French politeness function:

```{r example-french, eval=FALSE}
library(politeness)

# Example French texts
text_fr <- c(
  "Bonjour, pourriez-vous m'aider s'il vous plaît ?",
  "Salut, tu peux m'aider ?",
  "Je suis vraiment désolé pour le retard.",
  "Merci beaucoup pour votre aide !"
)

# Extract politeness features (without SpaCy)
result <- politeness_fr(text_fr, parser = "none", drop_blank = TRUE)

# View the results
head(result)

# With SpaCy for advanced features
# spacyr::spacy_initialize(model = "fr_core_news_sm")
# result_advanced <- politeness_fr(text_fr, parser = "spacy", drop_blank = TRUE)
```

### Original English Package

The original English politeness package is also available:

```{r example-english, eval=FALSE}
data("phone_offers")

politeness::politeness(phone_offers$message)

# install.packages("spacyr")
# spacyr::spacy_initialize(python_executable = "PYTHON_PATH")
# politeness::politeness(phone_offers$message, parser="spacy")

politeness::featurePlot(politeness::politeness(phone_offers$message),
                           split=phone_offers$condition,
                           split_levels = c("Warm","Tough"),
                           split_name = "Condition")
```
